// Generated by CoffeeScript 2.5.1
(function() {
  var localServer, puppeteer, ws;

  localServer = require('local-web-server');

  ws = localServer.create({
    port: 23232,
    directory: 'test'
  });

  puppeteer = require('puppeteer');

  global.navigator = {
    userAgent: 'summat'
  };

  exports.ymaTest = {
    "Should make an app": function(test) {
      var app;
      app = require('../dist/index')('myApp');
      test.equal(app.appName, 'myApp', 'Name check');
      return test.done();
    },
    "Should make a scope": function(test) {
      var app, scope;
      app = require('../dist/index')('myApp');
      scope = app.Scope();
      test.ok(scope.$id);
      return test.done();
    },
    "Should make a component": function(test) {
      var app;
      app = require('../dist/index')('myApp');
      app.component('myComponent', function(app) {
        return function(scope, elem, props) {
          return console.log('controller');
        };
      });
      test.equal(typeof (app.$getComponents()['MYCOMPONENT']), 'function');
      return test.done();
    },
    "Shold load a page": async function(test) {
      var browser, page;
      browser = (await puppeteer.launch());
      page = (await browser.newPage());
      await page.goto('http://localhost:23232/basic/test-basic.html');
      return setTimeout(async function() {
        console.log((await page.content()));
        await browser.close();
        test.done();
        return ws.server.close();
      });
    }
  };

}).call(this);
